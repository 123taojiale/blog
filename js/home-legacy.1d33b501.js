(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"062b":function(e,t,i){"use strict";i("3e35")},"076e":function(e,t,i){"use strict";i("aa0b")},"0dda":function(e,t,i){"use strict";i("c36b")},"29db":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"container",staticClass:"TheHome-container",on:{wheel:e.handleWheel}},[i("ul",{staticClass:"carousel-container",style:e.carouselContainerStyleObj,on:{transitionend:e.handleTransitionend}},e._l(e.banners,(function(e){return i("li",{key:e.id,staticClass:"item"},[i("CarouselItemVue",{attrs:{carouselItemData:e}})],1)})),0),i("div",{staticClass:"arrow-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.index,expression:"index !== 0"}],staticClass:"arrow arrow-up",on:{click:function(t){e.index--}}},[i("BaseIcon",{attrs:{type:"arrowUp"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.index!==e.totalCount-1,expression:"index !== totalCount - 1"}],staticClass:"arrow arrow-down",on:{click:function(t){e.index++}}},[i("BaseIcon",{attrs:{type:"arrowUp"}})],1)]),i("ul",{staticClass:"indicator-container"},e._l(e.banners,(function(t,n){return i("li",{key:t.id,staticClass:"indicator",class:{active:n===e.index},on:{click:function(t){e.index=n}}})})),0)])},s=[],a=i("5530"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"outerContainer",staticClass:"CarouselItem-container",on:{mousemove:e.handleMouseMove,mouseleave:e.setMousePosCenter}},[i("div",{ref:"innerContainer",staticClass:"img-container",style:e.imgPos},[i("ImageLoader",{attrs:{placeholderSrc:e.carouselItemData.midImg,originalSrc:e.carouselItemData.bigImg,duration:3e3},on:{load:e.handleLoaded}})],1),i("div",{staticClass:"text-container"},[i("p",{staticClass:"wrap"},[i("span",{ref:"title",staticClass:"title"},[e._v(e._s(e.carouselItemData.title))])]),i("p",{staticClass:"wrap"},[i("span",{ref:"des",staticClass:"des"},[e._v(e._s(e.carouselItemData.description))])])])])},r=[],c=(i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"imageLoader-container"},[i("img",{staticClass:"original",style:e.originalStyle,attrs:{src:e.originalSrc},on:{load:e.handleLoad}}),i("img",{ref:"placeholder",staticClass:"placeholder",attrs:{src:e.placeholderSrc}})])}),d=[],h=(i("a9e3"),{data:function(){return{isOriginalLoaded:!1}},props:{originalSrc:{type:String},placeholderSrc:{type:String,required:!0},duration:{type:Number,default:500}},computed:{originalStyle:function(){return{opacity:this.isOriginalLoaded?1:0,transition:this.duration+"ms"}}},methods:{handleLoad:function(){var e=this;this.isOriginalLoaded=!0,setTimeout((function(){var t;null===(t=e.$refs.placeholder)||void 0===t||t.remove(),e.$emit("load")}),this.duration)}}}),l=h,u=(i("076e"),i("2877")),g=Object(u["a"])(l,c,d,!1,null,"54d988e4",null),f=g.exports,m=i("ed08"),C=m["a"].debounce,p={name:"CarouselItem",props:["carouselItemData"],components:{ImageLoader:f},computed:{imgPos:function(){var e={width:this.innerContainerSize.width-this.outerContainerSize.width,height:this.innerContainerSize.height-this.outerContainerSize.height},t=-e.width*(this.mousePos.x/this.outerContainerSize.width)+"px",i=-e.height*(this.mousePos.y/this.outerContainerSize.height)+"px";return{transform:"translate(".concat(t,", ").concat(i,")")}}},data:function(){return{titleWidth:0,desWidth:0,mousePos:{x:0,y:0},outerContainerSize:{width:0,height:0},innerContainerSize:{height:0,width:0}}},mounted:function(){this.titleWidth=this.$refs.title.clientWidth,this.desWidth=this.$refs.des.clientWidth,this.getSize(),this.setMousePosCenter(),this.getSizeDebounce=C(this.getSize),window.addEventListener("resize",this.getSizeDebounce)},beforeDestroy:function(){window.removeEventListener("resize",this.getSizeDebounce)},methods:{setMousePosCenter:function(){this.mousePos.x=this.outerContainerSize.width/2,this.mousePos.y=this.outerContainerSize.height/2},handleMouseMove:function(e){var t=this.$refs.outerContainer.getBoundingClientRect();this.mousePos={x:e.clientX-t.left,y:e.clientY-t.top}},getSize:function(){var e=this.$refs.outerContainer.getBoundingClientRect(),t=this.$refs.innerContainer.getBoundingClientRect();this.outerContainerSize={height:e.height,width:e.width},this.innerContainerSize={height:t.height,width:t.width}},handleLoaded:function(){var e=this.$refs.title,t=this.$refs.des;e.style.width=0,e.clientHeight,e.style.transition="1s",e.style.opacity=1,e.style.width=this.titleWidth+"px",e.style.letterSpacing=".5em",t.style.width=0,t.clientHeight,t.style.transition="2s 1s",t.style.opacity=1,t.style.width=this.desWidth+"px",t.style.letterSpacing=".5em"}}},w=p,v=(i("0dda"),Object(u["a"])(w,o,r,!1,null,"2d86e2f8",null)),S=v.exports,b=i("8bac"),y=i("2f62"),x=m["a"].debounce,z={name:"TheHome",data:function(){return{index:0,containerHeight:0,isChanging:!1}},components:{CarouselItemVue:S,BaseIcon:b["a"]},computed:Object(a["a"])(Object(a["a"])({},Object(y["d"])("Home",["banners","isLoading"])),{},{carouselContainerStyleObj:function(){return{marginTop:-this.index*this.containerHeight+"px"}},totalCount:function(){return this.banners.length}}),created:function(){this.fetchData()},mounted:function(){this.containerHeight=this.$refs.container.clientHeight,window.addEventListener("resize",this.handleSize)},destroyed:function(){window.removeEventListener("resize",this.handleSize)},methods:Object(a["a"])(Object(a["a"])({},Object(y["c"])("Home",["fetchData"])),{},{handleWheel:function(e){if(!this.isChanging){var t=e.deltaY;t>5&&this.index<this.totalCount-1?(this.isChanging=!0,this.index++):t<-5&&this.index>0&&(this.isChanging=!0,this.index--)}},handleTransitionend:function(){this.isChanging=!1},handleSize:function(){var e=this,t=x((function(){e.containerHeight=e.$refs.container.clientHeight}),200);t()}})},I=z,L=(i("062b"),Object(u["a"])(I,n,s,!1,null,"00d1fe0e",null));t["default"]=L.exports},"3e35":function(e,t,i){},aa0b:function(e,t,i){},c36b:function(e,t,i){}}]);